!function(){"use strict";function c(){e(),document.body.classList.add("fonts-loaded"),f("Page"),f("DeferredImage")}function d(){f("DeferredImage")}function e(){var a=document.getElementsByClassName("scripts")[0],b=document.createElement("script");b.setAttribute("async",!0),b.setAttribute("src","//use.fontawesome.com/145ecb787c.js"),a.appendChild(b)}function f(a){var b=h[a],c=a.toLowerCase(),d=[].slice.call(document.getElementsByClassName("js-"+c));return d.map(function(a){return g(b,a)})}function g(a){var b=Object.create(a.prototype),c=a.apply(b,Array.prototype.slice.call(arguments,1));return c}var a={event:function(a,b){var c=b||{},d=new CustomEvent(a,{detail:c});window.dispatchEvent(d)}},b={JS_TOGGLED:"js-toggled"};window.addEventListener("load",c),window.addEventListener("kosaya:loaded:page",d);var h={},i=function(a){this._element=a,this._init(),this._setup()};i.prototype._init=function(){this._home=this._element.getElementsByClassName("js-page-home")[0],this._navigation=this._element.getElementsByClassName("js-page-navigation")[0],this._nav=[].slice.call(this._element.getElementsByClassName("js-page-nav")),this._load=this._element.getElementsByClassName("js-load")[0],this._minHeight=window.innerHeight-this._navigation.offsetHeight},i.prototype._setup=function(){window.addEventListener("resize",function(){this._minHeight=window.innerHeight-this._navigation.offsetHeight,window.innerWidth<768&&!this._element.classList.contains(b.JS_TOGGLED)&&this._go("home")}.bind(this)),window.addEventListener("kosaya:loading:page",function(a){this._load.classList.add("js-loading")}.bind(this)),window.addEventListener("kosaya:loaded:page",function(){this._load.classList.remove("js-loading")}.bind(this)),window.addEventListener("kosaya:loaded:xhr",function(b){console.log(b.detail),this._load.innerHTML=b.detail,a.event("kosaya:loaded:page")}.bind(this)),this._home.addEventListener("click",function(){this._go("home")}.bind(this)),this._nav.map(function(a){var b=a.getAttribute("href");a.addEventListener("click",function(a){a.preventDefault(),this._go(b)}.bind(this))}.bind(this)),window.location.href.indexOf("projects")==-1&&window.location.href.indexOf("resume")==-1&&this._go("home")},i.prototype._go=function(a){this._element.classList.remove(b.JS_TOGGLED),"home"!==a?(this._home.style.minHeight="0px",this._request(a)):this._home.style.minHeight=this._minHeight+"px"},i.prototype._request=function(c){if(this._element.classList.add(b.JS_TOGGLED),"index.html"==c)return!1;a.event("kosaya:loading:page");var d="partial-"+c,e=new h.XHR;return e.target(d).request(),!0},h.Page=i;var j=function(a){return this._element=a,this};j.prototype.target=function(a){function b(a){return a.replace("/[a-z.-]*/g",""),a}return this._target=b(a),console.log(this._target),this},j.prototype.request=function(){var b=new XMLHttpRequest;return b.open("GET",this._target),b.send(null),b.onreadystatechange=function(){4===b.readyState&&(200===b.status?a.event("kosaya:loaded:xhr",b.responseText):console.error(b.responseText))}.bind(this),this},h.XHR=j;var k=function(a){this._element=a,this._init()};k.prototype._init=function(){this._image=this._element.getAttribute("data-src"),this._load()},k.prototype._display=function(){this._element.style.backgroundImage='url("'+this._image+'")',this._element.classList.add("js-loaded")},k.prototype._load=function(){var a=new Image;a.onload=this._display(),a.src=this._image},h.DeferredBackground=k;var l=function(a){this._element=a,this._init()};l.prototype._init=function(){this._image=this._element.getAttribute("data-src"),this._load()},l.prototype._display=function(){this._element.src=this._image,this._element.classList.add("js-loaded")},l.prototype._load=function(){var a=new Image;a.onload=this._display(),a.src=this._image},h.DeferredImage=l}();